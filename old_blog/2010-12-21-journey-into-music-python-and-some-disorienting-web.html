<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Journey Into Music, Python and Some Disorienting Web | Farid Zakaria’s Blog</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Journey Into Music, Python and Some Disorienting Web" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hype Machine and Python As mentioned earlier, I was introduced to HypeMachine and it quickly took over the facet of my life connected to music. I began to quickly turn to the website to listen to music in most cases when needed such as : at work, at home, at a party or in the washroom. The only problem I found was listening to some tracks on my iPhone or when the site was down (or somewhere where I had no internet god forbid). I ranted about this problem and the fact that the greasemonkey to make an easy download button appear seemed broken to my schoolmate and he told me this would be an excellent opportunity to learn Python. My journey through Python has been an amazing experience. Anytime I wished I could do something, turns out I could. Coding was essentially just writing in english what you&#39;d expect to work essentially. There are a few gripes as always but...I&#39;ll talk about that later. Here is a snipper of some of the python code for downloading mp3s from their site: #let&#39;s make our request #1: we set to popular but easily set to your user name or # any of the URLS you want to grab #2: that ax=1 and ts=time is just some hypem crap req1 = urllib2.Request(&#39;http://hypem.com/popular?ax=1&amp;ts=&#39;+ str(time.time()) ) response = urllib2.urlopen(req1) #save our cookie cookie = response.headers.get(&#39;Set-Cookie&#39;) #grab the HTML data = response.read()" />
<meta property="og:description" content="Hype Machine and Python As mentioned earlier, I was introduced to HypeMachine and it quickly took over the facet of my life connected to music. I began to quickly turn to the website to listen to music in most cases when needed such as : at work, at home, at a party or in the washroom. The only problem I found was listening to some tracks on my iPhone or when the site was down (or somewhere where I had no internet god forbid). I ranted about this problem and the fact that the greasemonkey to make an easy download button appear seemed broken to my schoolmate and he told me this would be an excellent opportunity to learn Python. My journey through Python has been an amazing experience. Anytime I wished I could do something, turns out I could. Coding was essentially just writing in english what you&#39;d expect to work essentially. There are a few gripes as always but...I&#39;ll talk about that later. Here is a snipper of some of the python code for downloading mp3s from their site: #let&#39;s make our request #1: we set to popular but easily set to your user name or # any of the URLS you want to grab #2: that ax=1 and ts=time is just some hypem crap req1 = urllib2.Request(&#39;http://hypem.com/popular?ax=1&amp;ts=&#39;+ str(time.time()) ) response = urllib2.urlopen(req1) #save our cookie cookie = response.headers.get(&#39;Set-Cookie&#39;) #grab the HTML data = response.read()" />
<link rel="canonical" href="https://fzakaria.com/old_blog/2010-12-21-journey-into-music-python-and-some-disorienting-web.html" />
<meta property="og:url" content="https://fzakaria.com/old_blog/2010-12-21-journey-into-music-python-and-some-disorienting-web.html" />
<meta property="og:site_name" content="Farid Zakaria’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2010-12-21T21:53:25-08:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Journey Into Music, Python and Some Disorienting Web" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2010-12-21T21:53:25-08:00","datePublished":"2010-12-21T21:53:25-08:00","description":"Hype Machine and Python As mentioned earlier, I was introduced to HypeMachine and it quickly took over the facet of my life connected to music. I began to quickly turn to the website to listen to music in most cases when needed such as : at work, at home, at a party or in the washroom. The only problem I found was listening to some tracks on my iPhone or when the site was down (or somewhere where I had no internet god forbid). I ranted about this problem and the fact that the greasemonkey to make an easy download button appear seemed broken to my schoolmate and he told me this would be an excellent opportunity to learn Python. My journey through Python has been an amazing experience. Anytime I wished I could do something, turns out I could. Coding was essentially just writing in english what you&#39;d expect to work essentially. There are a few gripes as always but...I&#39;ll talk about that later. Here is a snipper of some of the python code for downloading mp3s from their site: #let&#39;s make our request #1: we set to popular but easily set to your user name or # any of the URLS you want to grab #2: that ax=1 and ts=time is just some hypem crap req1 = urllib2.Request(&#39;http://hypem.com/popular?ax=1&amp;ts=&#39;+ str(time.time()) ) response = urllib2.urlopen(req1) #save our cookie cookie = response.headers.get(&#39;Set-Cookie&#39;) #grab the HTML data = response.read()","headline":"Journey Into Music, Python and Some Disorienting Web","mainEntityOfPage":{"@type":"WebPage","@id":"https://fzakaria.com/old_blog/2010-12-21-journey-into-music-python-and-some-disorienting-web.html"},"url":"https://fzakaria.com/old_blog/2010-12-21-journey-into-music-python-and-some-disorienting-web.html"}</script>
<!-- End Jekyll SEO tag -->

        <link type="application/atom+xml" rel="alternate" href="https://fzakaria.com/feed.xml" title="Farid Zakaria&apos;s Blog" />
        <link rel="stylesheet" type="text/css" href="/assets/css/base.css">
        <link rel="icon" type="image/x-icon" href="/assets/images/avatar.ico">
        <link rel="alternate" type="application/atom+xml" title="Farid Zakaria's Blog" href="/feed.xml">

        <link ref="">

        
        
        <link href="/assets/css/highlightjs-default-theme.css" rel="stylesheet" />
        

        
            <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-35360900-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-35360900-1');
</script>

        

    </head>
    <body>
        
        <script src="/assets/js/highlight.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        

        <div class="container">
            <h1 class="page-title">
    <a class="rss pull-right" href="/feed.xml"><i class="fa fa-rss"></i></a>
    Journey Into Music, Python and Some Disorienting Web
</h1>

<div class="content">
    
    <p class="date">
        Published 2010-12-21
        on <a href="/">Farid Zakaria's Blog</a>
        <span class="hidden-xs">
          &mdash;
          <a href="/old_blog/2010-12-21-journey-into-music-python-and-some-disorienting-web.html">
            Permalink
          </a>
        </span>
    </p>
    
    <article>
      <h2> Hype Machine and Python</h2>
<p>
As mentioned earlier, I was introduced to <a href="http://hypem.com/">HypeMachine</a> and it quickly took over the facet of my life connected to music. I began to quickly turn to the website to listen to music in most cases when needed such as : at work, at home, at a party or in the washroom. The only problem I found was listening to some tracks on my iPhone or when the site was down (or somewhere where I had no internet god forbid).</p>
<p>I ranted about this problem and the fact that the greasemonkey to make an easy download button appear seemed broken to my schoolmate and he told me this would be an excellent opportunity to learn Python.</p>
<p>My journey through Python has been an amazing experience. Anytime I wished I could do something, turns out I could. Coding was essentially just writing in english what you'd expect to work essentially. There are a few gripes as always but...I'll talk about that later.</p>
<p>Here is a snipper of some of the python code for downloading mp3s from their site:</p>
<pre>
<code> 
#let's make our request
#1: we set to popular but easily set to your user name or 
# any of the URLS you want to grab
#2: that ax=1 and ts=time is just some hypem crap
req1 = urllib2.Request('http://hypem.com/popular?ax=1&ts='+ str(time.time()) )
response = urllib2.urlopen(req1)
#save our cookie
cookie = response.headers.get('Set-Cookie')
#grab the HTML
data = response.read()

idMatches = re.findall("(?<=tid:')w*(?=')", data )
keyMatches = re.findall("(?<=tkey: ')w*(?=')", data )
songMatches= re.findall("(?<=tsong:').*(?=')", data )
artistMatches= re.findall("(?<=tartist:').*(?=')", data )


print "Found: "+ str(len(idMatches)) + " matches."

for i in range(len(idMatches)):
        id = idMatches[i]
        key = keyMatches[i]
        song = songMatches[i]
        artist = artistMatches[i]
        #little investigation in the javascript gives us this
        url = 'http://hypem.com/serve/play/' + id + '/' + key + ".mp3"
        print url
        #######
        #setup our cookie in our request
        req2 = urllib2.Request(url)
        req2.add_header('cookie', cookie)
        response = urllib2.urlopen(req2)
        #grab the data
        data2 = response.read()
        mp3Name = song + ".mp3"
        song = open("songs/"+mp3Name, "wb")
        song.write(data2)
        song.close()
</code>
</pre>
<p>This code has been adapted to work with the recent update to HypeMachine that occurred this week. (BTW awesome redesign). I was surprised how easy it was to scrape data from a website. All it took was a bit of investigation with Chrome's equivalent of firebug and some breakpoints. I was thinking of turning the script into javascript and writing it as a Chrome/Firefox extension but I got into some SOP problems...</p>
<p>Turns out I hate web development and it's too annoying to do. While writing the scripts, I was getting weird redirect HTTP Errors that I tried to fix and I couldn't find any awesome documentation on what headers and cookies I wanted to send. I did it mostly by trial and errors...</p>
<p>Add some MySQL functionality and cron job it and enjoy your new library of awesome music.</p>
<p>
Here is the first song I downloaded with the script. It also happens to be a pretty good remix.</p>
<blockquote><p><a href='http://fzakaria-blog.elasticbeanstalk.com/wp-content/uploads/2010/12/Only-Girl-Paul-David-Barletta-Remix.mp3'>Only Girl (Paul David + Barletta Remix)</a></p></blockquote>
<p>You can download the full script in my <a href="http://www.blog.fzakaria.com/projects/">projects</a> page.</p>


<hr />
    </article>
</div>

<div class="sidebar">
    <hr class="visible-xs" />
    <img class="avatar" src="/assets/images/avatar-164.png" alt="A photo of my dog Moose" title="My dog Moose"/>
    <p>I'm a software engineer, father and wishful amateur surfer. If you've come seeking my political views; you've found the wrong <a href="https://fareedzakaria.com/">Fareed</a>.</p>
    <div class="external-links">
      <p>
        <span class="context">linkedin</span>
        <a href="https://www.linkedin.com/in/fmzakari/">fmzakari</a>
      </p>
      <p>
        <span class="context">github</span>
        <a href="https://github.com/fzakaria">fzakaria</a>
      </p>
      <p>
        <span class="context">email</span>
        <a href="mailto:farid.m.zakaria@gmail.com">farid.m.zakaria@gmail.com</a>
      </p>
      <p>
        <span class="context">pgp</span>
        <a href="/publickey.txt">D1B232E7</a>
      </p>
      <p>
        <a href="/archive">Archive</a>
      </p>
      <p>
        <a href="/old_blog/">Historic WordPress Blog</a>
      </p>
      <!--
      <p>
        Web friendly version of my <a href="/resume/index.html">resume</a>.
      </p>
    </div>
    <h3>Projects</h3>
    <p>
      <a href="/projects/">Click here</a> for some personal
      projects I've worked on.
    </p>
    <h3>Old Blog</h3>
    <p>
      <a href="/old_blog/">Click here</a> for the archive
      of my old blog posts from Wordpress.
    </p>
    -->
    
    <h3>Recent Posts</h3>
    
    <div class="post-stub">
      2025-02-02<br />
      <a href="/2025/02/02/nix-string-interpolation-of-directories-gone-awry.html">Nix: string interpolation of directories gone awry</a>
    </div>
    
    <div class="post-stub">
      2025-01-28<br />
      <a href="/2025/01/28/bazel-build-event-protocol-viewer.html">Bazel: Build Event Protocol Viewer</a>
    </div>
    
    <div class="post-stub">
      2025-01-12<br />
      <a href="/2025/01/12/bazel-knowledge-be-mindful-of-build-without-the-bytes.html">Bazel Knowledge: Be mindful of Build Without the Bytes (bwob)</a>
    </div>
    
    
    <h3>License</h3>
    <p style="font-size: 10pt">
    The content for this site is
    <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>.
    The <a href="https://github.com/SirCmpwn/ddjekyll">inspiration for the theme</a> for this site is
    © Drew Devault.
    </p>
    <div class="spacer" style="margin-top: 30px;"></div>
    
    <p><a href="https://github.com/fzakaria/fzakaria.com/edit/master/_old_blog/2010-12-21-journey-into-music-python-and-some-disorienting-web.html">
      Improve this page @ 417ff2d
    </a></p>

</div>
        </div>
    </body>
</html>
